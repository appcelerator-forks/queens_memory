function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){function e(e){var t={">":"&gt;","<":"&lt;","&":"&amp;"};return e=e.replace(/<|>|&/gi,function(e){return t[e]})}function t(e){alert("Submitted")}function o(e){i.submitWin.close()}if(require("/alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="submissionPage",this.args=arguments[0]||{},arguments[0]){__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate")}var i=this,r={},n={};i.__views.submitWin=Ti.UI.createWindow({orientationModes:[Ti.UI.PORTRAIT],backgroundColor:"#e6e6e6",backgroundDisabledColor:"#000000",id:"submitWin"}),i.__views.submitWin&&i.addTopLevelView(i.__views.submitWin),i.__views.navBar=Ti.UI.createView({backgroundColor:"black",top:"0%",width:"100%",height:"8%",font:{fontSize:14},zIndex:0,id:"navBar"}),i.__views.submitWin.add(i.__views.navBar),i.__views.back=Ti.UI.createButton({left:"5%",color:"white",backgroundColor:"transparent",borderColor:"transparent",font:{fontFamily:"queensfoundationfont",fontSize:36},top:"8%",title:"T",id:"back"}),i.__views.navBar.add(i.__views.back),o?i.addListener(i.__views.back,"click",o):n["$.__views.back!click!backButton"]=!0,i.__views.QL=Ti.UI.createImageView({width:"34%",top:"26%",id:"QL",image:"QL300.png"}),i.__views.navBar.add(i.__views.QL),i.__views.titleBan=Ti.UI.createView({backgroundColor:"white",top:"7%",height:"11%",font:{fontSize:12},id:"titleBan"}),i.__views.submitWin.add(i.__views.titleBan),i.__views.qp=Ti.UI.createImageView({top:"12%",width:"30%",left:"7%",id:"qp",image:"QM_FINAL_outlines.png"}),i.__views.titleBan.add(i.__views.qp),i.__views.Title=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:18,fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:"bold"},color:"#000000",textAlign:"Titanium.UI.TEXT_ALIGNMENT_RIGHT",top:"35%",right:"5%",text:"Submission Preview",id:"Title"}),i.__views.titleBan.add(i.__views.Title),i.__views.__alloyId129=Ti.UI.createScrollView({top:"17%",backgroundColor:"#e6e6e6",showHorizontalScrollIndicator:"false",showVerticalScrollIndicator:"true",width:Titanium.UI.FILL,bottom:"0%",contentHeight:Titanium.UI.SIZE,contentWidth:Titanium.UI.FILL,layout:"vertical",disableBounce:"true",id:"__alloyId129"}),i.__views.submitWin.add(i.__views.__alloyId129),i.__views.pickerView=Ti.UI.createView({height:"90%",id:"pickerView"}),i.__views.__alloyId129.add(i.__views.pickerView),i.__views.uploadedImage=Ti.UI.createImageView({height:"60%",width:"65%",autorotate:!0,top:"12%",left:"18%",id:"uploadedImage"}),i.__views.pickerView.add(i.__views.uploadedImage),i.__views.subPrev=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"22",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:"bold"},color:"#000000",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,top:"5%",left:"21%",text:"Submission Preview",id:"subPrev"}),i.__views.pickerView.add(i.__views.subPrev),i.__views.uploadIcon=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"50",fontFamily:"Entypo",fontStyle:"",fontWeight:""},color:"#000000",left:"16%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,top:"70.3%",text:"z",id:"uploadIcon"}),i.__views.pickerView.add(i.__views.uploadIcon),i.__views.ImageInfo=Ti.UI.createLabel({width:"100.09%",height:"6.72%",font:{fontSize:"10",fontFamily:"",fontStyle:"",fontWeight:""},color:"#000000",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,left:"5%",top:"72.5%",text:"1 Image to upload, and includes the following:",id:"ImageInfo"}),i.__views.pickerView.add(i.__views.ImageInfo),i.__views.submissionsView=Ti.UI.createView({backgroundColor:"transparent",top:"0%",left:"0%",width:"100%",layout:"vertical",height:"100%",id:"submissionsView"}),i.__views.__alloyId129.add(i.__views.submissionsView),i.__views.photoDate=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Date:",id:"photoDate"}),i.__views.submissionsView.add(i.__views.photoDate),i.__views.photoTitle=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Title of item:",id:"photoTitle"}),i.__views.submissionsView.add(i.__views.photoTitle),i.__views.photoPlace=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Location:",id:"photoPlace"}),i.__views.submissionsView.add(i.__views.photoPlace),i.__views.photoNameF=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Photographer First:",id:"photoNameF"}),i.__views.submissionsView.add(i.__views.photoNameF),i.__views.photoName=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Photographer Last:",id:"photoName"}),i.__views.submissionsView.add(i.__views.photoName),i.__views.photoPeopleName=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Person/People Name:",id:"photoPeopleName"}),i.__views.submissionsView.add(i.__views.photoPeopleName),i.__views.photoEventName=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Event Name:",id:"photoEventName"}),i.__views.submissionsView.add(i.__views.photoEventName),i.__views.photoOrg=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Organizations:",id:"photoOrg"}),i.__views.submissionsView.add(i.__views.photoOrg),i.__views.photoMake=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Make/Model and/or Software used:",id:"photoMake"}),i.__views.submissionsView.add(i.__views.photoMake),i.__views.photoLoc=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Places Depicted:",id:"photoLoc"}),i.__views.submissionsView.add(i.__views.photoLoc),i.__views.photoMeasure=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Measurements:",id:"photoMeasure"}),i.__views.submissionsView.add(i.__views.photoMeasure),i.__views.photoNotesLabel=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:"12",fontFamily:"Montserrat-Regular",fontStyle:"",fontWeight:""},color:"#000000",left:"5%",top:"1%",wordWrap:"true",text:"Additional Notes:",id:"photoNotesLabel"}),i.__views.submissionsView.add(i.__views.photoNotesLabel),i.__views.bannerBottom=Ti.UI.createView({backgroundColor:"#ffffff",height:"25%",left:"0%",top:"93%",width:"100%",id:"bannerBottom"}),i.__views.submitWin.add(i.__views.bannerBottom),i.__views.edit=Ti.UI.createButton({top:"5%",left:"5%",width:"30%",backgroundColor:"#f2f2f2",borderColor:"gray",color:"black",borderRadius:5,title:"Edit",id:"edit"}),i.__views.bannerBottom.add(i.__views.edit),o?i.addListener(i.__views.edit,"click",o):n["$.__views.edit!click!backButton"]=!0,i.__views.next=Ti.UI.createButton({top:"5%",right:"5%",width:"30%",backgroundColor:"#f2f2f2",borderColor:"gray",color:"black",borderRadius:5,title:"Submit",id:"next"}),i.__views.bannerBottom.add(i.__views.next),t?i.addListener(i.__views.next,"click",t):n["$.__views.next!click!submit"]=!0,r.destroy=function(){},_.extend(i,i.__views);var a=arguments[0]||{},l=require("data");i.Title.text=a.thisTitle||"Error, most like",i.QL.image="QL300.png",i.qp.image="QM_FINAL_outlines.png";var s="iPhone OS";"iPhone OS"==s&&(s="iOS"),"Scanned Item"==a.thisTitle&&(a.photoTitle.length<=35&&a.photoDate.length<=35&&a.photoEventName.length<=35&&a.photoOrg.length<=35&&a.photoFirstName.length<=35&&a.photoLastName.length<=35&&a.photoPeopleNames.length<=35&&a.photoModel.length<=35&&a.photoLocation.length<=35&&a.artifactType.length<=35&&a.photoMeasurements.length<=35?i.submissionsView.height="75%":a.photoTitle.length>=90&&a.photoDate.length>=90&&a.photoEventName.length>=90&&a.photoOrg.length>=90&&a.photoFirstName.length>=90&&a.photoLastName.length>=90&&a.photoPeopleNames.length>=90&&a.photoModel.length>=90&&a.photoLocation.length>=90&&a.artifactType.length>=90&&a.photoMeasurements.length>=90?i.submissionsView.height="175%":a.photoTitle.length>=50&&a.photoDate.length>=50&&a.photoEventName.length>=50&&a.photoOrg.length>=50&&a.photoFirstName.length>=50&&a.photoLastName.length>=50&&a.photoPeopleNames.length>=50&&a.photoModel.length>=50&&a.photoLocation.length>=50&&a.artifactType.length>=50&&a.photoMeasurements.length>=50?i.submissionsView.height="150%":i.submissionsView.height="100%",i.photoPlace.text="Artifact Type: ",i.photoNameF.text="Artifact Creator [First]: ",i.photoName.text="Artifact Creator [Last]: ",i.photoDate.text+=" "+l.getData().photoDate,i.photoPlace.text+=" "+l.getData().artifactType,i.photoNameF.text+=" "+l.getData().photoFirstName,i.photoName.text+=" "+l.getData().photoLastName,i.photoPeopleName.text+=" "+l.getData().photoPeopleNames,i.photoEventName.text+=" "+l.getData().photoEventName,i.photoOrg.text+=" "+l.getData().photoOrg,i.photoMake.text+=" "+l.getData().photoModel,i.photoNotesLabel.text+=" "+l.getData().photoNotes,i.photoTitle.text+=" "+l.getData().photoTitle,i.photoLoc.text+=" "+l.getData().photoLocation,i.photoMeasure.text+=" "+l.getData().photoMeasurements),"Digital Photo"==a.thisTitle&&(a.photoTitle.length<=49&&a.photoDate.length<=49&&a.photoPlace.length<=49&&a.photoEventName.length<=49&&a.photoOrg.length<=49&&a.photoFirstName.length<=49&&a.photoLastName.length<=49&&a.photoPeopleNames.length<=49&&a.photoModel.length<=49?i.submissionsView.height="75%":a.photoTitle.length>=100&&a.photoDate.length>=100&&a.photoPlace.length>=100&&a.photoEventName.length>=100&&a.photoOrg.length>=100&&a.photoFirstName.length>=100&&a.photoLastName.length>=100&&a.photoPeopleNames.length>=100&&a.photoModel.length>=100?i.submissionsView.height="175%":a.photoTitle.length>=50&&a.photoDate.length>=50&&a.photoPlace.length>=50&&a.photoEventName.length>=50&&a.photoOrg.length>=50&&a.photoFirstName.length>=50&&a.photoLastName.length>=50&&a.photoPeopleNames.length>=50&&a.photoModel.length>=50?i.submissionsView.height="150%":i.submissionsView.height="100%",i.photoLoc.visible=!1,i.photoMeasure.visible=!1,i.photoLoc.top="0%",i.photoMeasure.top="0%",i.photoDate.text+=" "+l.getData().photoDate,i.photoPlace.text+=" "+l.getData().photoPlace,i.photoNameF.text+=" "+l.getData().photoFirstName,i.photoName.text+=" "+l.getData().photoLastName,i.photoPeopleName.text+=" "+l.getData().photoPeopleNames,i.photoEventName.text+=" "+l.getData().photoEventName,i.photoOrg.text+=" "+l.getData().photoOrg,i.photoMake.text+=" "+l.getData().photoModel,i.photoNotesLabel.text+=" "+l.getData().photoNotes,i.photoTitle.text+=" "+l.getData().photoTitle,i.photoLoc.text+=" "+l.getData().photoLocation,i.photoMeasure.text+=" "+l.getData().photoMeasurements),i.uploadedImage.image=a.customImage||"QL300.png";var d=Ti.UI.createActivityIndicator({color:"black",font:{fontFamily:"Helvetica Neue",fontSize:26,fontWeight:"bold"},message:"Sending...",style:Ti.UI.ActivityIndicatorStyle.DARK,height:Ti.UI.SIZE,width:Ti.UI.SIZE});if(i.submitWin.add(d),"Scanned Material"==l.getData().resourceType){var h=l.getData().userPhoto,c=Ti.Utils.base64encode(h).toString();({userPhoto:c,submit:l.getData().submitType,resourceType:l.getData().resourceType,step:l.getData().photoStepNumber,firstname:e(l.getData().photoFirstName),lastname:e(l.getData().photoLastName),lang:e(l.getData().photoLanguage),right:l.getData().photoRights,title:e(l.getData().photoTitle),memberType:l.getData().photoMemberType,additional:e(l.getData().photoNotes),scannedLocation:e(l.getData().photoLocation),measurements:e(l.getData().photoMeasurements),descriptionAbstract:e(l.getData().artifactType),artifactEvent:e(l.getData().photoEventName),artifactOrganization:e(l.getData().photoOrg),artifactPerson:e(l.getData().photoPeopleNames),scanner:e(l.getData().photoModel),year:e(l.getData().photoDate),email:Ti.App.Properties.getString("Email Address"),uploaderfname:Ti.App.Properties.getString("First Name"),uploaderlname:Ti.App.Properties.getString("Last Name"),mimeType:l.getData().mimeType,fileExtension:l.getData().fileExtension,operatingSystem:s,osVersion:Ti.Platform.version})}else{var c=Ti.Utils.base64encode(l.getData().userPhoto).toString();({userPhoto:c,submit:l.getData().submitType,resourceType:l.getData().resourceType,step:l.getData().photoStepNumber,firstname:e(l.getData().photoFirstName),lastname:e(l.getData().photoLastName),lang:e(l.getData().photoLanguage),right:l.getData().photoRights,title:e(l.getData().photoTitle),memberType:l.getData().photoMemberType,additional:e(l.getData().photoNotes),camera:e(l.getData().photoModel),events:e(l.getData().photoEventName),organization:e(l.getData().photoOrg),persons:e(l.getData().photoPeopleNames),photoLocation:e(l.getData().photoPlace),year:e(l.getData().photoDate),email:Ti.App.Properties.getString("Email Address"),uploaderfname:Ti.App.Properties.getString("First Name"),uploaderlname:Ti.App.Properties.getString("Last Name"),mimeType:l.getData().mimeType,fileExtension:l.getData().fileExtension,operatingSystem:s,osVersion:Ti.Platform.version})}n["$.__views.back!click!backButton"]&&i.addListener(i.__views.back,"click",o),n["$.__views.edit!click!backButton"]&&i.addListener(i.__views.edit,"click",o),n["$.__views.next!click!submit"]&&i.addListener(i.__views.next,"click",t),_.extend(i,r)}var Alloy=require("/alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;